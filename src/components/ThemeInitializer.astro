<script>
  // Initialize theme settings on page load
  document.addEventListener("DOMContentLoaded", () => {
    // Check for saved dark mode preference
    const savedDarkMode = localStorage.getItem("darkMode");
    if (savedDarkMode === "true") {
      document.documentElement.classList.add("dark");
    }

    // Check for saved color palette
    const savedPalette = localStorage.getItem("colorPalette");
    if (savedPalette) {
      const colorPalettes: Record<
        string,
        {
          primary: string;
          accent: string;
          primaryShades: Record<string, string>;
        }
      > = {
        Default: {
          primary: "217 89% 61%",
          accent: "187 100% 42%",
          primaryShades: {
            100: "217 89% 95%",
            200: "217 89% 85%",
            300: "217 89% 75%",
            400: "217 89% 65%",
            500: "217 89% 55%",
            600: "217 89% 45%",
            700: "217 89% 35%",
            800: "217 89% 25%",
          },
        },
        Purple: {
          primary: "270 95% 60%",
          accent: "300 100% 50%",
          primaryShades: {
            100: "270 95% 95%",
            200: "270 95% 85%",
            300: "270 95% 75%",
            400: "270 95% 65%",
            500: "270 95% 55%",
            600: "270 95% 45%",
            700: "270 95% 35%",
            800: "270 95% 25%",
          },
        },
        Green: {
          primary: "142 76% 36%",
          accent: "160 84% 39%",
          primaryShades: {
            100: "142 76% 95%",
            200: "142 76% 85%",
            300: "142 76% 75%",
            400: "142 76% 65%",
            500: "142 76% 55%",
            600: "142 76% 45%",
            700: "142 76% 35%",
            800: "142 76% 25%",
          },
        },
        Orange: {
          primary: "24 95% 53%",
          accent: "15 100% 50%",
          primaryShades: {
            100: "24 95% 95%",
            200: "24 95% 85%",
            300: "24 95% 75%",
            400: "24 95% 65%",
            500: "24 95% 55%",
            600: "24 95% 45%",
            700: "24 95% 35%",
            800: "24 95% 25%",
          },
        },
        Red: {
          primary: "0 84% 60%",
          accent: "0 100% 50%",
          primaryShades: {
            100: "0 84% 95%",
            200: "0 84% 85%",
            300: "0 84% 75%",
            400: "0 84% 65%",
            500: "0 84% 55%",
            600: "0 84% 45%",
            700: "0 84% 35%",
            800: "0 84% 25%",
          },
        },
      };

      const palette = colorPalettes[savedPalette];
      if (palette) {
        const root = document.documentElement;

        // Update primary color
        root.style.setProperty("--primary", palette.primary);

        // Update accent color
        root.style.setProperty("--accent", palette.accent);

        // Update primary shades
        Object.entries(palette.primaryShades).forEach(([shade, value]) => {
          root.style.setProperty(`--primary-${shade}`, value);
        });

        // Update other related colors
        root.style.setProperty("--ring", palette.primary);
        root.style.setProperty("--chart-1", palette.primary);
        root.style.setProperty("--sidebar-primary", palette.primary);
        root.style.setProperty("--sidebar-ring", palette.primary);
      }
    }
  });
</script>
